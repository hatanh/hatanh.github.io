<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Website Here!</title>

        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="page1.css">
    </head>
    <body>
        <script>
            const board = [
                ["nw", "n", "ne"],
                ["w", "c", "e"],
                ["sw", "s", "se"]
            ]

            let game = [
                ["1", "2", "3"],
                ["4", "5", "6"],
                ["7", "8", "9"]
            ]

            let symbol = "X"

            function play(y, x) {
                const square = document.getElementById(board[y][x])

                square.setAttribute("disabled", "true")
                square.style.background = symbol == "X" ? "#5899e2" : "#274060"
                game[y][x] = symbol
                if (checkGame(symbol)) {
                    document.querySelector("#board-textbox p").innerHTML = `the winner is ${symbol == "X" ? "light blue" : "dark blue"}`
                    disableGame()
                } else if (isDraw()) {
                    document.querySelector("#board-textbox p").innerHTML = "the game has drawn"
                }

                symbol = symbol == "X" ? "O" : "X"
            }

            function checkGame(symbol) {
                if (game[0][0] == game[1][1] && game[1][1] == game[2][2] ||
                game[0][2] == game[1][1] && game[1][1] == game[2][0])
                    return true

                for (let i = 0 ; i < 3; i++) {
                    if (game[i][0] == game[i][1] && game[i][1] == game[i][2])
                        return true
                }

                for (let i = 0; i < 3; i++) {
                    if (game[0][i] == game[1][i] && game[1][i] == game[2][i])
                        return true
                }

                return false
            }

            function disableGame() {
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 3; j++) {
                        const square = document.getElementById(board[i][j])
                        square.setAttribute("disabled", "true")

                        if (game[i][j] != "X" && game[i][j] != "O")
                            square.style.backgroundColor = "black"


                    }
                }
            }

            function resetGame() {
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 3; j++) {
                        const square = document.getElementById(board[i][j])
                        square.removeAttribute("disabled")

                        square.style.backgroundColor = "ghostwhite"

                    }
                }

                game = [
                    ["1", "2", "3"],
                    ["4", "5", "6"],
                    ["7", "8", "9"]
                ]
                symbol = "X"
    
                document.querySelector("#board-textbox p").innerHTML = "hi"
            }

            function isDraw() {
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 3; j++) {
                        if (game[i][j] != "X" && game[i][j] != "O") 
                            return false
                    }
                }

                return true
            }
            </script>

        <div id="wrapper">
            <div id="top-bar">
                <h3>Tic</h3>

                <a href="https://hatanh.github.io/">Home</a>
                <a href="index.html">Previous</a>
                <a href="https://hatanh.github.io/">Next</a>
                <a href="https://hatanh.github.io/">Index</a>
                <a href="https://hatanh.github.io/">Me</a>
            </div>
    
            <div id="mid-area">
                <h1 id="page-title">This is page 1.</h1> <br>

                <div id="board">
                    <button id="nw" onclick="play(0, 0)">  </button>
                    <button id="n" onclick="play(0, 1)">  </button>
                    <button id="ne" onclick="play(0, 2)">  </button>

                    <button id="w" onclick="play(1, 0)">  </button>
                    <button id="c" onclick="play(1, 1)">  </button>
                    <button id="e" onclick="play(1, 2)">  </button>

                    <button id="sw" onclick="play(2, 0)">  </button>
                    <button id="s" onclick="play(2, 1)">  </button>
                    <button id="se" onclick="play(2, 2)">  </button>
                </div>

                <div id="board-textbox">
                    <p onclick="resetGame()">hi</p>
                </div>
            </div>
    
            <div id="bottom-bar">
                <div>
                    <p>you can click</p>
                    <p>on the textbox</p>
                    <p>to reset the game</p>
                    <p></p> <br>
                    <p></p>
                </div>
                <img src="images\ccduck_500x500.jpg" alt="random pic of a creative commons duck" height="250px">
            </div>
        </div>
    </body>
</html>